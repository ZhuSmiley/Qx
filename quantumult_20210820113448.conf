# DivineEngine Quantumult 配置示例
#
# 以 ";" 或 "#" 或 "//" 开头的行为注释行。
#
# 最新完整的示例需查看 Quantumult X 里「配置文件」中的「示例」
#

[general]

server_check_url=http://captive.apple.com/

dns_exclusion_list = *.cmbchina.com, *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, id6.me

excluded_routes=10.0.0.0/8, 127.0.0.0/8, 169.254.0.0/16, 192.0.2.0/24, 192.168.0.0/16, 198.51.100.0/24, 224.0.0.0/4

geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js

resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js

# 示例意思：[蜂窝数据],[Wi-Fi],[SSID]
# 在蜂窝数据使用规则分流(第一个 filter)，在 Wi-Fi 使用规则分流(第二个 filter)，在 SSID 为 TP-LINK_609, _5G  使用全部直连
running_mode_trigger=filter, filter, TP-LINK_609:all_direct, TP-LINK_609_5G:all_direct


[dns]

# 本地 DNS 映射
# Firebase Cloud Messaging
address=/mtalk.google.com/108.177.125.188
# Google Dl
server=/dl.google.com/119.29.29.29
server=/dl.l.google.com/119.29.29.29


[policy]
static=REJECT-DROP, direct, proxy, reject

# 类型：静态(static)
# 指向您手动选择的候选服务器。
;static=policy-name-1, Sample-A, Sample-B, Sample-C, img-url=http://example.com/icon.png

static=Final, proxy, direct
static=Streaming, proxy
static=StreamingSE, direct, proxy
static=Guard, reject, direct

static=国外网站, proxy, direct
static=Telegram, proxy, direct
static=Wangyi, direct, Wangyi
static=UnSysUpdate, reject, direct


[server_remote]
# 节点_订阅
# 参数「tag」和「enabled」是可选的。
# 各种远程资源的默认同步时间间隔是 86400 秒。
# 你可以设置 update-interval=172800 来自定义你的自动同步时间间隔(秒)，负数表示禁用自动同步。
# Mx订阅链接
https://maoxiongnet.com/link/FC1zzUa5PeIgXRqN?sub=3&extend=1, tag=Mx, update-interval=172800, opt-parser=true, enabled=true

# RenzheCloud订阅链接
https://renzhesub.com/link/SPO6ApXBWZu4wtNH?list=shadowrocket, tag=Renzhe, update-interval=172800, opt-parser=true, enabled=true


[filter_remote]
# 分流_订阅
# 参数「tag」、「force-policy」和「enabled」是可选的。
# 当有强制策略时，远程资源的过滤器中的策略将被忽略，并使用强制策略。

# zhihu
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zhihu/zhihu_remove_ads.list, tag=zh, update-interval=172800, opt-parser=true, enabled=true

# Unbreak 后续规则修正
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list, tag=🔂Unbreak, force-policy=direct, update-interval=86400, opt-parser=true, enabled=true

# Advertising 广告
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list, tag=🛡Advertising, force-policy=Guard, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list#type=domain-set, tag=🛡Advertising+, force-policy=Guard, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/eHpo1/Rules/master/QuantumultX/Filter/Liby.txt, tag=Ads, force-policy=Guard, enabled=true

# Privacy 隐私
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, tag=🛡️Privacy, force-policy=Guard, update-interval=86400, opt-parser=true, enabled=true

# Hijacking 运营商劫持或恶意网站
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list, tag=🛡️Hijacking, force-policy=Guard, update-interval=86400, opt-parser=true, enabled=true

# Streaming 国际流媒体服务
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list, tag=🎞Streaming, force-policy=Streaming, update-interval=86400, opt-parser=true, enabled=true

# China Direct
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list, tag=China, force-policy=direct, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/eHpo1/Rules/master/QuantumultX/Filter/AsianMedia.txt, tag=国内媒体, force-policy=direct, enabled=true
https://raw.githubusercontent.com/eHpo1/Rules/master/QuantumultX/Filter/Domestic.txt, tag=国内网站, force-policy=direct, enabled=true

https://raw.githubusercontent.com/eHpo1/Rules/master/QuantumultX/Filter/Apple_CDN.txt, tag=苹果CDN 资源类(建议直连), force-policy=direct, enabled=true

# Wangyi
https://raw.githubusercontent.com/nzw9314/QuantumultX/master/NeteaseMusic.list, tag=解锁网易云音乐, force-policy=Wangyi, enabled=true


[rewrite_remote]
# 远程重写
# 大概 列出拒绝的地址，参数「tag」和「enabled」是可选的。

#zhihu_Plus
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zhihu/zhihu_plus.qxrewrite, tag=zhihu_Plus, update-interval=86400, opt-parser=false, enabled=true

# General
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=🔀General, update-interval=86400, enabled=true
# Block Advertising_all reject
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/Advertising.conf, tag=🛡Block Advertising, update-interval=86400, enabled=true
# Block Advertising+_执行 .Js 
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/AdvertisingPlus.conf, tag=🛡Block Advertising+, update-interval=86400, enabled=true

https://raw.githubusercontent.com/eHpo1/Rules/master/QuantumultX/Rewrite.txt, tag=eHpo1去广告, enabled=true
https://raw.githubusercontent.com/nzw9314/QuantumultX/master/Q-Search_All_in_one.conf, tag=Q-Search, enabled=true
https://raw.githubusercontent.com/nzw9314/QuantumultX/master/Js_local_WorkingCopy.conf, tag=nzw9314脚本, enabled=true
https://raw.githubusercontent.com/nzw9314/QuantumultX/master/Get_Cookie_New.conf, tag=nzw9314获取Cookie(右滑禁用), enabled=true


[server_local]
# 本地节点
http=106.52.127.72:19951, fast-open=false, udp-relay=false, tag=解锁网易云音乐


[filter_local]
# 分流_本地

# 知乎去广告，以下规则请放置在filter_local最顶部
IP-CIDR,118.89.204.198/32,REJECT
IP6-CIDR,2402:4e00:1200:ed00:0:9089:6dac:96b6/128,REJECT
HOST,118.89.204.198,REJECT
HOST,mqtt.zhihu.com,reject
HOST,sugar.zhihu.com,reject
HOST,appcloud2.in.zhihu.com,REJECT
USER-AGENT,AVOS*,REJECT

# Local Area Network 局域网
host-suffix, local, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 100.64.0.0/10, direct
ip-cidr, 224.0.0.0/4, direct
ip6-cidr, fe80::/10, direct

# GeoIP China(若启用，则禁用 ChinaIP.list)
-geoip, cn, direct

#屏蔽系统更新
host, mesu.apple.com, UnSysUpdate
host, gdmf.apple.com, UnSysUpdate

#网易云音乐
host-suffix, music.126.net, direct

final, Final


[rewrite_local]
# 重写_本地
# [rewrite_local] 完整示例请查看「示例」

# 获取京东Cookie. 
^https:\/\/(api\.m|me-api)\.jd\.com\/(client\.action\?functionId=signBean|user_new\/info\/GetJDUserInfoUnion\?) url script-request-header https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js

# 获取钢镚签到body. 
^https:\/\/ms\.jr\.jd\.com\/gw\/generic\/hy\/h5\/m\/appSign\? url script-request-body https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js


#获取Bili漫画Cookie
^https:\/\/passport\.biligame\.com\/api\/login\/sso.+?version%22%3A%22(3|4|5) url script-request-header https://raw.githubusercontent.com/NobyDa/Script/master/Bilibili-DailyBonus/Manga.js



[task_local]
# 本地任务_定时脚本

0 9 * * * https://ghproxy.com/https://raw.githubusercontent.com/NobyDa/Script/master/52pojie-DailyBonus/52pojie.js, tag=吾爱破解, img-url=https://ghproxy.com/https://raw.githubusercontent.com/Orz-3/mini/master/Color/52pj.png, enabled=true
10 7 * * * https://raw.githubusercontent.com/ChuheGit/1/main/Script/jd_scripts/jd_syj.js, tag=赚京豆, img-url=https://raw.githubusercontent.com/ChuheGit/1/main/QuantumultX/Gallery/API-Icon/jd_syj.png, enabled=true
9 5 * * * https://raw.githubusercontent.com/NobyDa/Script/master/Bilibili-DailyBonus/Manga.js, tag=哔哩哔哩漫画, img-url=https://raw.githubusercontent.com/HotKids/Rules/master/Quantumult/X/Images/Task/bilibilimanga.png, enabled=true

# 按需求自己选择和修改时间
# 京东多合一签到
5 0 * * * https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js, tag=京东多合一签到, img-url=https://raw.githubusercontent.com/NobyDa/mini/master/Color/jd.png,enabled=true


[http_backend]
#
# 部署一个本地 HTTP 服务器，并使用 JavaScript 进行数据处理。
# 输入变量为：$reqeust.url、$reqeust.path、$reqeust.headers、$reqeust.body。
# 使用 $done 输出像 $done({status:"HTTP/1.1 200 OK"}, headers:{}, body:"here is a string") 这样的返回响应。
# 此外，您还可以使用签名或任何其他验证方法来验证请求是否合法。
# 部署后您应该通过 http://127.0.0.1:9999/your-path/your-api/. 进行访问。服务器默认监听端口为 9999，您可以在UI中进行更改。
# [http_backend] 完整示例请查看「示例」

[mitm]
passphrase = 56AC42C1
p12 = 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
#
# 只有「hostname」中的 TLS SNI 或目标地址将被 MitM 处理。
# 默认情况下，当为 HTTPS 请求启用 MitM 时，Quantumult X 会从原站点获取证书（证书会被缓存），保留大部分需要的原始证书信息，并使用 MitM 的 root CA 重新签名，这是推荐的（也是比较兼容的）MitM 证书创建方式。
# 偶尔有些用户喜欢调试 HTTPS 请求，其域名不存在，所以原证书根本不存在。当参数 simple_cert_hostname 出现的时候。其 TLS SNI 名称在 simple_cert_hostname(及 hostname) 中的 HTTPS 请求将使用纯本地生成的 MitM 证书。
# 注意！！！您应该始终保护您的 CA 密码和 p12 的私密性。
#

skip_validating_cert = true
;force_sni_domain_name = false
;simple_cert_hostname = non-existed-domain.com, *.non-connected-domain.com
;hostname = *.googlevideo.com
hostname = *.zhihu.com, *.googlevideo.com, *.byteoversea.com, api*.musical.ly, api*.amemv.com, aweme*.snssdk.com, ms.jr.jd.com, me-api.jd.com, passport.biligame.com

